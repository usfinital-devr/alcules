<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bucin Ngeselin üíò</title>
  <style>
    :root{
      --bg1:#ff9a9e; --bg2:#fad0c4; --ink:#1d1d1f; --card:#ffffffcc; --btn:#ff3b7a;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color:var(--ink);
      background: linear-gradient(135deg,var(--bg1),var(--bg2)) fixed;
      overflow:hidden;
    }
    .wrap{
      position:relative; height:100%; display:grid; place-items:center; padding:18px;
    }
    .card{
      width:min(520px,92vw); background:var(--card); backdrop-filter:saturate(140%) blur(6px);
      border-radius:18px; box-shadow:0 12px 30px rgba(0,0,0,.12); padding:22px 20px;
      animation: pop .6s ease both;
    }
    @keyframes pop{from{transform:scale(.9); opacity:0} to{transform:scale(1); opacity:1}}

    h1{margin:6px 0 8px; font-size:28px}
    p.lead{margin:0 0 12px; opacity:.9}
    .cta{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    .btn{
      appearance:none; border:0; border-radius:999px; padding:12px 16px;
      background:var(--btn); color:#fff; font-weight:600; cursor:pointer;
      box-shadow:0 10px 18px rgba(255,59,122,.35); transform:translateZ(0);
      transition:transform .15s ease, filter .2s ease;
    }
    .btn:active{transform:scale(.97)}
    .btn--ghost{background:#fff; color:var(--ink); box-shadow:0 10px 18px rgba(0,0,0,.06)}
    .btn--shake{animation:shake 2.2s ease infinite}
    @keyframes shake{
      0%,100%{transform:translateX(0)}
      10%,30%,50%,70%,90%{transform:translateX(-4px)}
      20%,40%,60%,80%{transform:translateX(4px)}
    }

    /* tombol NO kabur */
    .no-btn{position:relative}
    .no-btn:where(:hover,:focus){animation:none}

    /* Hati mengapung */
    .hearts{position:absolute; inset:0; pointer-events:none; overflow:hidden}
    .heart{
      position:absolute; width:18px; height:18px; background:#ff3b7a; transform:rotate(45deg);
      animation:float var(--dur) linear infinite; opacity:.8;
    }
    .heart::before,.heart::after{
      content:""; position:absolute; width:18px; height:18px; background:#ff3b7a; border-radius:50%;
    }
    .heart::before{top:-9px; left:0}
    .heart::after{left:-9px; top:0}
    @keyframes float{
      from{transform:translateY(110vh) rotate(45deg) scale(.8)}
      to{transform:translateY(-15vh) rotate(45deg) scale(1.3)}
    }

    /* Detak jantung pada judul */
    .hb{display:inline-block; animation:heartbeat 1.2s ease-in-out infinite}
    @keyframes heartbeat{
      0%{transform:scale(1)}
      20%{transform:scale(1.15)}
      40%{transform:scale(1)}
      60%{transform:scale(1.15)}
      100%{transform:scale(1)}
    }

    /* Overlay start untuk patuhi autoplay */
    .gate{
      position:fixed; inset:0; background:rgba(0,0,0,.5);
      display:grid; place-items:center; z-index:50;
    }
    .gate .inner{
      background:#fff; padding:22px; border-radius:14px; width:min(440px,92vw); text-align:center;
    }
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="wrap">
    <div class="card" id="card">
      <h1><span class="hb">Sayang üòà</span>, jawab jujur ya‚Ä¶</h1>
      <p class="lead">Kangen nggak sama aku? Jawab ‚ÄúIya dong‚Äù atau coba klik ‚ÄúEnggak‚Äù kalau berani üòú</p>

      <div class="cta">
        <button class="btn btn--shake" id="yesBtn">Iya dong ‚ù§Ô∏è</button>
        <button class="btn btn--ghost no-btn" id="noBtn">Enggak üôÑ</button>
        <button class="btn" id="waBtn">Chat WhatsApp</button>
      </div>

      <audio id="bgm" src="audio.mp3" loop></audio>
    </div>
  </div>

  <!-- Gate to start audio (user gesture) -->
  <div class="gate" id="gate">
    <div class="inner">
      <h3>Aktifkan suara?</h3>
      <p>Ketuk ‚ÄúMulai‚Äù untuk menyalakan musik dan animasi.</p>
      <button class="btn" id="startBtn">Mulai ‚ñ∂Ô∏è</button>
    </div>
  </div>

  <script>
    // ====== WhatsApp ======
    // Ganti nomor di bawah ini (format internasional tanpa +, contoh Indonesia: 62812xxxxxxx)
    const WA_NUMBER = '6281213232691';
    const message = 'Hai cinta, kangen nggak? Kalau kangen, balas ‚Äúiya dong‚Äù sekarang ya üíò';

    function openWA(){
      const url = 'https://wa.me/' + WA_NUMBER + '?text=' + encodeURIComponent(message);
      window.open(url, '_blank');
    }

    // ====== Audio + Gate (autoplay policy) ======
    const gate = document.getElementById('gate');
    const startBtn = document.getElementById('startBtn');
    const bgm = document.getElementById('bgm');

    startBtn.addEventListener('click', async () => {
      gate.style.display = 'none';
      try { await bgm.play(); } catch(e){ /* jika gagal, tampilkan kontrol */ bgm.setAttribute('controls',''); }
      spawnHearts();
    });

    // ====== UI actions ======
    const yesBtn = document.getElementById('yesBtn');
    const noBtn  = document.getElementById('noBtn');
    const waBtn  = document.getElementById('waBtn');

    yesBtn.addEventListener('click', () => {
      yesBtn.textContent = 'Tau kok kamu kangen üíû';
      openWA();
    });
    waBtn.addEventListener('click', openWA);

    // Tombol "Enggak" kabur
    function moveNo(){
      const pad = 12;
      const x = Math.random() * (window.innerWidth  - noBtn.offsetWidth  - pad*2) + pad;
      const y = Math.random() * (window.innerHeight - noBtn.offsetHeight - pad*2) + pad;
      noBtn.style.position = 'fixed';
      noBtn.style.left = x+'px';
      noBtn.style.top  = y+'px';
    }
    ['mouseover','touchstart','click'].forEach(ev => noBtn.addEventListener(ev, moveNo));

    // ====== Floating hearts ======
    function spawnHearts(){
      const wrap = document.getElementById('hearts');
      for(let i=0;i<24;i++){
        const h = document.createElement('div');
        h.className = 'heart';
        h.style.left = Math.random()*100 + 'vw';
        h.style.setProperty('--dur', (8 + Math.random()*8) + 's');
        h.style.opacity = 0.5 + Math.random()*0.5;
        h.style.filter = `hue-rotate(${Math.floor(Math.random()*20)-10}deg)`;
        wrap.appendChild(h);
      }
    }
  </script>
</body>
</html>
